# 多态与虚函数
在类中，通过向上转型可以将指向派生类的指针给指向基类，但是会出现的问题是：
只能使用派生类的数据成员，无法用成员函数；因为数据成员是通过this指针来指向的，而成员函数只是由当前指针类型所决定。
通过指针调用普通的成员函数时会根据指针的类型（通过哪个类定义的指针）来判断调用哪个类的成员函数

## 虚函数

+ 有了虚函数，基类指针指向基类对象时就使用基类的成员（包括成员函数和成员变量），指向派生类对象时就使用派生类的成员。
换句话说，基类指针可以按照基类的方式来做事，也可以按照派生类的方式来做事，它有多种形态，或者说有多种表现方式，
我们将这种现象称为多态（Polymorphism）。
+ 只有派生类的虚函数覆盖基类的虚函数才能形成多态。
+ 构造函数不能是虚函数，但是析构函数可以是虚函数。
+ 基类指针只能访问从基类继承过去的成员函数，不能访问新增的成员。

## 虚函数的底层实现

+ 虚函数所在对象都会有一个虚函数表指针，指向内部隐藏的虚函数，也就是一个虚函数指针数组。
+ 然后通过查找虚函数指针数组来找到对应的虚函数。

## 多态形成条件

+ 必须都有类的继承关系
+ 必须有虚函数，且是同名虚函数

## 虚函数使用场景

+ 首先看改函数所在类是否是基类
+ 看改函数在后续被继承的过程中会不会被改动，如果被改动就适合作为虚函数存在。

## 纯虚函数

+ 抽象类，只是用来打样的，方法就是在函数后面 =0
+ 抽象类的纯虚函数必须被派生类实现。
